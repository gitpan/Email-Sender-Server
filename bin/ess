#!/usr/bin/env perl

# PODNAME:  ess cli
# ABSTRACT: Email Sender Server CLI

BEGIN {
    use FindBin;
    use lib $FindBin::Bin . "/../lib";
    use lib '/home/alnewkirk/Repos/alnewkirk/Validation-Class/lib';
}

use strict;
use warnings;

use File::Basename 'dirname';
use File::Spec;

use lib join '/', File::Spec->splitdir(dirname(__FILE__)), 'lib';
use lib join '/', File::Spec->splitdir(dirname(__FILE__)), '..', 'lib';

use Email::Sender::Server; 

our $VERSION = $Email::Sender::Server::VERSION || '0.0.0';

my  ($cmd, $rtn) = Email::Sender::Server->run; # start your engines

if (ref $cmd) {
    
    if ($cmd->has_errors) {
        
        print "\n";
        print "error(s) encountered:\n";
        print join "\n", @{$cmd->{errors}};
        print "\n";
        
    }
    
    if ($cmd->has_messages) {
        
        print "\n" if $cmd->has_errors;
        print "\n";
        print join "\n", @{$cmd->{messages}};
        print "\n";
        
    }
    
    if ($rtn) {
        
        print "\n";
        print $rtn unless ref $rtn;
        
    }
    
}

__END__
=pod

=head1 NAME

ess cli - Email Sender Server CLI

=head1 VERSION

version 0.01_01

=head1 AUTHOR

Al Newkirk <awncorp@cpan.org>

=head1 COPYRIGHT AND LICENSE

This software is copyright (c) 2012 by awncorp.

This is free software; you can redistribute it and/or modify it under
the same terms as the Perl 5 programming language system itself.

=cut

